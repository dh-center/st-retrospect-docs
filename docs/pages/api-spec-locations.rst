API - локации
============================================================
Методы для работы с локациями (:term:`Location`).

Base URL: ``http://learnsql.ru:8000``


Поиск локаций по словам в адресах и названиях инстансов
-------------------------------------------------------

Поиск осуществляется по полям *Location.address* и по инстансам (*LocationInstance.name*), связанным с локацией.

**Метод**

GET

**URL**

``BASE_URL/api/locations/search``

**GET-параметры запроса**

+---------------+-----------------------------------------------------+------------+--------------+
| Параметр      | Назначение                                          | Тип данных | Обязательный |
+===============+=====================================================+============+==============+
| query         | Список слов, разделенных пробелом                   | string     | да           |
+---------------+-----------------------------------------------------+------------+--------------+
| strict_search | Флаг строгого поиска (включение всех слов из query) | int        | нет          |
+---------------+-----------------------------------------------------+------------+--------------+

Для того, чтоб задействовать флаг *strict_search*, в него нужно передать значение **1**

При активном *strict_search* поиск слов из *query* в названии, описании и тегах маршрута будет производиться с логической операцией И (включение всех слов). При неактивном - ИЛИ (хотя бы одно слово).

Пример: ``BASE_URL/api/locations/search?query=университет итмо&strict_search=1``

**Ответ**

Status: 200 OK

.. code-block:: json

    {
    "locations": [
        {
            "id": 2773,
            "lat": 59.9300046,
            "lon": 30.3153241,
            "wiki_url": "http://www.citywalls.ru/house1553.html",
            "icon_url": "",
            "address": "переулок Гривцова, 14-16",
            "value": 0.0,
            "instances": [
                {
                    "id": 1722,
                    "name": "Здание Государственной комиссии погашения долгов - Национальный исследовательский университет ИТМО ",
                    "description": "Это здание было построено в 1790-1793 гг. по проекту архитектора Луиджи Руска для размещения Заемного банка. В 1839-1840 гг. пришедший в ветхое состояние двухэтажный каменный дом был перестроен и расширен А. Адамини. В 1866-1917 гг. - здание занимала Государственная Комиссия погашения долгов. Работы по пеконструкции и приспособлению под нужды Комисси производились под руководством архитектора городской управы И.А. Мерца\n\nВ начале 1920-х гг. здание было выделено для Ленинградского техникума точной механики и оптики. ",
                    "image_url": "https://avatars.mds.yandex.net/get-ugc/877417/2a0000015f72962cfed3b77793cd306bfdab/XXXL",
                    "start_date": "1790-1793, 1839-1840",
                    "end_date": "",
                    "was_built": null,
                    "was_demolished": false,
                    "location_id": 2773,
                    "persons": [],
                    "tags": [],
                    "location_types": [
                        {
                            "id": 17,
                            "name": "государственное учреждение"
                        },
                        {
                            "id": 3,
                            "name": "учебное заведение"
                        }
                    ],
                    "action_tags": []
                }
            ]
        }
    ]
    }
